{% extends "accounts/main.html" %}

{% block content %}
<body class="bg-gray-200 font-sans">

    <div class="container mx-auto mt-8 px-4">

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">

            <div class="bg-white p-6 rounded shadow-sm">
                <h3 class="text-xl font-bold mb-4">Customer:</h3>
                <div class="space-y-3">
                    <button
                        class="w-full border border-cyan-500 text-cyan-600 py-2 rounded hover:bg-cyan-50 transition">
                        Update Customer
                    </button>
                    <button class="w-full border border-red-300 text-red-500 py-2 rounded hover:bg-red-50 transition">
                        Delete Customer
                    </button>
                </div>
            </div>

            <div class="bg-white p-6 rounded shadow-sm">
                <h3 class="text-xl font-bold mb-4 border-b pb-2">Contact Information</h3>
                <p class="mb-2"><span class="font-medium text-gray-600">Email: {{customer.email}}</span></p>
                <p><span class="font-medium text-gray-600">Phone: {{customer.phone}}</span></p>
            </div>

            <div class="bg-white p-6 rounded shadow-sm">
                <h3 class="text-xl font-bold mb-4 border-b pb-2">Total Orders</h3>
                <div>
                    <p>{{total_order}}</p>
                </div>
            </div>
        </div>

        <div class="bg-white p-4 rounded shadow-sm mb-6">
            <form class="flex space-x-6" action="">
                {% csrf_token %}
                {{myFilter.form}}
                <input class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded shadow-sm" type="submit" value="Search">
            </form>
        </div>

        <div class="bg-white rounded shadow-sm overflow-hidden">
            <table class="w-full">
                <thead class="bg-white border-b">
                    <tr>
                        <th class="p-4 font-bold text-gray-800">Product</th>
                        <th class="p-4 font-bold text-gray-800">Note</th>
                        <th class="p-4 font-bold text-gray-800">Date Orderd</th>
                        <th class="p-4 font-bold text-gray-800">Status</th>
                        <th class="p-4 font-bold text-gray-800">Update</th>
                        <th class="p-4 font-bold text-gray-800">Remove</th>
                    </tr>
                </thead>
                <tbody>
                    {% for order in orders %}
                    <tr class="border-b last:border-0 text-center">
                        <td class="p-10">{{order.product}}</td>
                        <td class="p-10">{{order.note}}</td>
                        <td class="p-10">{{order.date_created}}</td>
                        <td class="p-10">{{order.status}}</td>
                        <td class="py-4 text-center text-gray-400"><a href="{% url 'update_order' order.id %}"
                                class="bg-green-500 px-3 py-2 rounded-lg text-green-200">Update</a></td>
                        <td class="py-4 text-center text-gray-400"><a href="{% url 'delete_order' order.id%}"
                                class="bg-red-500 px-3 py-2 rounded-lg text-red-200">Remove</a></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

{% endblock %}